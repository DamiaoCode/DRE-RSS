<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feed RSS - Procedimentos DRE</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            color: #333;
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 10px;
        }
        .rss-link {
            display: inline-block;
            background: #ff6b35;
            color: white;
            padding: 12px 24px;
            text-decoration: none;
            border-radius: 5px;
            margin: 10px;
            transition: background 0.3s;
        }
        .rss-link:hover {
            background: #e55a2b;
        }
        .stats {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .last-update {
            text-align: center;
            color: #666;
            font-size: 0.9em;
            margin-top: 40px;
        }
        .feed-info {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üì∞ Feed RSS - Procedimentos DRE</h1>
        <p>Feed RSS com procedimentos do Di√°rio da Rep√∫blica - S√©rie II - Parte L</p>
    </div>
    
    <div class="feed-info">
        <h3>üìã Informa√ß√µes do Feed</h3>
        <p>Este feed RSS cont√©m informa√ß√µes detalhadas sobre procedimentos de contrata√ß√£o p√∫blica publicados no Di√°rio da Rep√∫blica.</p>
        <p><strong>URL do Feed:</strong> <a href="feed_rss_procedimentos.xml">feed_rss_procedimentos.xml</a></p>
    </div>
    
    <div class="stats">
        <h3>ÔøΩÔøΩ Estat√≠sticas</h3>
        <p><strong>√öltima atualiza√ß√£o:</strong> <span id="lastUpdate"></span></p>
        <p><strong>Total de procedimentos:</strong> <span id="totalProcedimentos"></span></p>
    </div>
    
    <div style="text-align: center;">
        <a href="feed_rss_procedimentos.xml" class="rss-link">ÔøΩÔøΩ Aceder ao Feed RSS</a>
        <a href="https://github.com/joaodamiao/RSS-DRE" class="rss-link">ÔøΩÔøΩ Ver no GitHub</a>
    </div>
    
    <div class="last-update">
        <p>Atualizado automaticamente via GitHub Actions</p>
        <p>Feed v√°lido para leitores RSS como Feedly, Inoreader, etc.</p>
    </div>
    
    <script>
        // Atualizar data da √∫ltima modifica√ß√£o
        fetch('feed_rss_procedimentos.xml')
            .then(response => response.headers.get('last-modified'))
            .then(lastModified => {
                if (lastModified) {
                    document.getElementById('lastUpdate').textContent = new Date(lastModified).toLocaleString('pt-PT');
                }
            })
            .catch(() => {
                document.getElementById('lastUpdate').textContent = 'Indispon√≠vel';
            });
        
        // Contar procedimentos no XML
        fetch('feed_rss_procedimentos.xml')
            .then(response => response.text())
            .then(xml => {
                const parser = new DOMParser();
                const xmlDoc = parser.parseFromString(xml, 'text/xml');
                const items = xmlDoc.getElementsByTagName('item');
                document.getElementById('totalProcedimentos').textContent = items.length;
            })
            .catch(() => {
                document.getElementById('totalProcedimentos').textContent = 'Indispon√≠vel';
            });
    </script>
</body>
</html>
